# 效能測試記錄

**測試版本：** 0.9.0  
**測試環境：** Mac mini M4 (16GB RAM), macOS 15.0

---

## 測試目標

確保 OVEREND 在各種負載下保持流暢運作：
- ✅ 啟動時間 < 3 秒
- ✅ 匯入單一 PDF < 5 秒
- ✅ 搜尋回應 < 0.5 秒
- ✅ 記憶體使用 < 500MB（正常使用）
- ✅ 無記憶體洩漏

---

## 一、啟動效能

### 測試方法
1. 完全關閉 OVEREND
2. 雙擊 App 圖示
3. 測量到主視窗完全顯示的時間

### 測試結果

| 測試次數 | 啟動時間 | 記憶體使用 | 備註 |
|---------|----------|-----------|------|
| #1 | ___ 秒 | ___ MB | 冷啟動 |
| #2 | ___ 秒 | ___ MB | |
| #3 | ___ 秒 | ___ MB | |
| **平均** | **___ 秒** | **___ MB** | |

**標準：** < 3 秒  
**通過：** ☐ 是 / ☐ 否

---

## 二、PDF 匯入效能

### 測試情境

#### 情境 A：單一 PDF（有 DOI）
- 檔案大小：~2MB
- 預期：CrossRef API 查詢

| 測試次數 | 匯入時間 | Metadata 正確 | 備註 |
|---------|----------|--------------|------|
| #1 | ___ 秒 | ☐ | |
| #2 | ___ 秒 | ☐ | |
| #3 | ___ 秒 | ☐ | |
| **平均** | **___ 秒** | | |

**標準：** < 5 秒  
**通過：** ☐ 是 / ☐ 否

#### 情境 B：單一 PDF（台灣期刊）
- 檔案大小：~3MB
- 預期：Apple Intelligence 萃取

| 測試次數 | 匯入時間 | Metadata 正確 | 備註 |
|---------|----------|--------------|------|
| #1 | ___ 秒 | ☐ | |
| #2 | ___ 秒 | ☐ | |
| #3 | ___ 秒 | ☐ | |
| **平均** | **___ 秒** | | |

**標準：** < 8 秒（AI 處理較慢可接受）  
**通過：** ☐ 是 / ☐ 否

#### 情境 C：大檔案 PDF（50MB+）
- 檔案大小：~50MB
- 預期：不崩潰，顯示進度

| 測試次數 | 匯入時間 | 記憶體峰值 | 是否崩潰 | 備註 |
|---------|----------|-----------|----------|------|
| #1 | ___ 秒 | ___ MB | ☐ | |
| #2 | ___ 秒 | ___ MB | ☐ | |
| **平均** | **___ 秒** | **___ MB** | | |

**標準：** < 30 秒，無崩潰  
**通過：** ☐ 是 / ☐ 否

#### 情境 D：批次匯入（10 個 PDF）
- 總大小：~20MB
- 預期：循序處理，顯示進度

| 測試次數 | 總耗時 | 平均每個 | 記憶體峰值 | 備註 |
|---------|--------|----------|-----------|------|
| #1 | ___ 秒 | ___ 秒 | ___ MB | |
| #2 | ___ 秒 | ___ 秒 | ___ MB | |
| **平均** | **___ 秒** | **___ 秒** | **___ MB** | |

**標準：** < 60 秒  
**通過：** ☐ 是 / ☐ 否

---

## 三、搜尋效能

### 測試情境
- 文獻庫大小：100 筆 Entry
- 測試關鍵字：「machine learning」

| 測試次數 | 搜尋時間 | 結果數量 | 備註 |
|---------|----------|----------|------|
| #1 | ___ 秒 | ___ | |
| #2 | ___ 秒 | ___ | |
| #3 | ___ 秒 | ___ | |
| **平均** | **___ 秒** | | |

**標準：** < 0.5 秒  
**通過：** ☐ 是 / ☐ 否

---

## 四、編輯器效能

### 測試情境 A：輸入流暢度
- 文稿長度：1000 字
- 測試：連續快速輸入

**觀察：**
- [ ] 輸入無延遲
- [ ] 游標移動流暢
- [ ] 格式切換即時

**通過：** ☐ 是 / ☐ 否

### 測試情境 B：長文檔
- 文稿長度：5000 字
- 包含：20+ 個引用

| 操作 | 回應時間 | 備註 |
|------|----------|------|
| 捲動 | ___ ms | 流暢度 |
| 插入引用 | ___ 秒 | |
| 切換格式 | ___ 秒 | |
| 儲存 | ___ 秒 | |

**標準：** 所有操作 < 1 秒  
**通過：** ☐ 是 / ☐ 否

---

## 五、記憶體管理

### 測試方法
使用 macOS Activity Monitor 監控

### 基準測試

| 狀態 | 記憶體使用 | 測試時間 |
|------|-----------|----------|
| 啟動後（空白） | ___ MB | |
| 匯入 10 篇文獻 | ___ MB | |
| 匯入 50 篇文獻 | ___ MB | |
| 匯入 100 篇文獻 | ___ MB | |
| 開啟 5 個文稿 | ___ MB | |
| 長時間使用（2小時） | ___ MB | |

**標準：**
- 正常使用 < 500MB
- 重度使用 < 1GB
- 無明顯增長趨勢（記憶體洩漏）

**通過：** ☐ 是 / ☐ 否

### 記憶體洩漏測試

**測試流程：**
1. 記錄初始記憶體：___ MB
2. 執行 100 次操作（匯入→刪除→匯入）
3. 記錄最終記憶體：___ MB
4. 差異：___ MB

**標準：** 差異 < 50MB  
**通過：** ☐ 是 / ☐ 否

---

## 六、壓力測試

### 測試 A：大量文獻
- 匯入 500 篇文獻
- 觀察穩定性

| 指標 | 結果 | 備註 |
|------|------|------|
| 匯入成功率 | ___% | |
| 總耗時 | ___ 分鐘 | |
| 記憶體峰值 | ___ MB | |
| 是否崩潰 | ☐ 是 / ☐ 否 | |
| 搜尋仍流暢 | ☐ 是 / ☐ 否 | |

### 測試 B：快速操作
- 30 秒內執行 20 次隨機操作
- 匯入、刪除、編輯、搜尋混合

**觀察：**
- [ ] 無崩潰
- [ ] 無卡頓
- [ ] UI 正常回應

**通過：** ☐ 是 / ☐ 否

---

## 七、網路效能

### CrossRef API 查詢

| 測試次數 | 查詢時間 | 成功 | 備註 |
|---------|----------|------|------|
| #1 | ___ 秒 | ☐ | |
| #2 | ___ 秒 | ☐ | |
| #3 | ___ 秒 | ☐ | |
| **平均** | **___ 秒** | | |

### 無網路降級測試
- 關閉網路
- 匯入 PDF

**觀察：**
- [ ] 自動降級到 Apple Intelligence
- [ ] 顯示友善提示訊息
- [ ] 不崩潰

**通過：** ☐ 是 / ☐ 否

---

## 效能基準總結

| 項目 | 標準 | 實測 | 通過 |
|------|------|------|------|
| 啟動時間 | < 3秒 | ___ | ☐ |
| PDF 匯入 | < 5秒 | ___ | ☐ |
| 搜尋速度 | < 0.5秒 | ___ | ☐ |
| 記憶體使用 | < 500MB | ___ | ☐ |
| 大檔案處理 | < 30秒 | ___ | ☐ |
| 批次匯入 | < 60秒 | ___ | ☐ |

**整體評價：** ☐ 優秀 / ☐ 良好 / ☐ 需改進

---

## 效能優化建議

### 已發現的瓶頸
1. 
2. 
3. 

### 優化方向
1. 
2. 
3. 

---

## 使用 Xcode Instruments

### Time Profiler
**測試場景：** 匯入 10 個 PDF

**熱點函數：**
1. 
2. 
3. 

**優化建議：**


### Allocations
**測試場景：** 長時間使用 2 小時

**記憶體增長：** ___ MB  
**洩漏物件：** ___ 個

**需要修復：**


### Energy Log
**測試場景：** 正常使用 1 小時

**耗電量：** ___  
**CPU 平均使用率：** ___%  
**評價：** ☐ 良好 / ☐ 一般 / ☐ 過高

---

**測試完成日期：** ________  
**測試人員：** ________
