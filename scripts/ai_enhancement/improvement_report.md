# OVEREND AI Tool Calling 改進建議

## 基於 tw-function-call-reasoning-10k 資料集分析

### 1. Chain-of-Thought 推理模式分析

從資料集中觀察到的高效推理模式：

1. **工具識別階段**
   - 首先列出所有可用工具
   - 分析每個工具的用途和參數

2. **參數對應階段**
   - 逐一將使用者需求對應到工具參數
   - 處理預設值和可選參數

3. **驗證階段**
   - 確認參數類型正確
   - 檢查必要參數是否完整

### 2. 推薦的 Prompt 結構

```
你是一個 [功能描述] 專家。

可用工具：
[工具列表及描述]

推理步驟：
1. 首先，識別使用者的具體需求
2. 然後，選擇最適合的工具
3. 接著，對應參數值
4. 最後，驗證並輸出結果

⚠️ 注意事項：
- 不要使用佔位符
- 參數值必須來自使用者輸入
- 如果找不到資訊，使用 null 或空值
```

### 3. Few-shot 範例格式

每個範例應包含：
- 使用者指令（繁體中文）
- 完整的思考過程
- 結構化的工具呼叫結果

### 4. 建議的改進項目

| 優先級 | 項目 | 說明 |
|-------|------|------|
| P0 | 加入 CoT 推理 | 在 Tool Calling 前加入明確的思考步驟 |
| P1 | Few-shot 範例 | 在 System Prompt 中加入 2-3 個範例 |
| P2 | 參數驗證 | 加入參數類型和範圍檢查 |
| P3 | 錯誤處理 | 當必要資訊缺失時的降級策略 |

### 5. 現有 OVEREND Tools 與資料集對應

| OVEREND Tool | 對應資料集範例類型 | 建議改進 |
|--------------|------------------|---------|
| extractPDFMetadata | 資訊提取類 | 加入文件類型判斷的 CoT |
| analyzeWriting | 文本分析類 | 加入問題優先級排序邏輯 |
| rewriteText | 文本轉換類 | 加入風格特徵描述 |
| translateAcademic | 翻譯類 | 加入術語保留驗證 |
| generateCitation | 格式生成類 | 加入引用格式驗證 |

## 下一步行動

1. [ ] 更新 ExtractPDFMetadataTool 的 Instructions，加入 CoT 模式
2. [ ] 在 WritingAIDomain 中加入 Few-shot 範例
3. [ ] 建立驗證測試案例
